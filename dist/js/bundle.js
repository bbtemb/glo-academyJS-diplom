(()=>{"use strict";const e=e=>{const t=document.getElementById(e),r=t.querySelector(".checkbox__input"),o=document.createElement("div"),l=document.querySelector(".popup-thank"),c=document.querySelector("body");o.classList.add("error-message"),o.innerHTML="<p>Ознакомьтесь с политикой конфиденциальности</p>";try{if(!t)throw new Error("Форма не найдена");r.addEventListener("change",(()=>{o.classList.add("hide")})),t.addEventListener("submit",(s=>{s.preventDefault(),r.checked?((()=>{const e=new FormData(t),r={};var o;e.forEach(((e,t)=>{r[t]=e})),console.log(r),o=r,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>e.json()))})(),t.reset(),(()=>{let e=!0;l.style.visibility="visible",c.addEventListener("click",(t=>{e&&(console.dir(t.target),(t.target.closest(".close")||"popup popup-thank"===t.target.className)&&(l.style.visibility="hidden",e=!e))}))})(),"feedback6"===e&&(document.querySelector(".popup-consultation").style.visibility="hidden")):(t.append(o),o.classList.remove("hide"))}))}catch(e){console.log(e.message)}};(()=>{const e=document.querySelector(".header-contacts__phone-number-accord .header-contacts__phone-number"),t=document.querySelector(".header-contacts__messagers"),r=document.querySelector(".header-contacts__arrow");r.addEventListener("click",(()=>{e.classList.toggle("active"),t.classList.toggle("active"),r.classList.toggle("active")}))})(),(()=>{const e=document.querySelector(".popup-menu"),t=document.querySelector(".popup-dialog-menu"),r=document.querySelector(".close-menu"),o=document.querySelector("body");let l=!1;const c=()=>{e.classList.toggle("active"),t.classList.toggle("active"),l=!l},s=e=>{const t=e.getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})};o.addEventListener("click",(e=>{e.target.closest(".menu")&&c(),e.target.closest(".link-price")&&l&&c(),l&&!e.target.closest(".menu")&&(e.target!==r&&e.target.closest(".popup-dialog-menu")||c()),e.target.closest(".popup-menu-nav__item")&&(e.preventDefault(),c(),e.target.closest(".menu-link")?s(e.target):s(e.target.firstElementChild)),e.target.closest(".button-footer")&&(e.preventDefault(),s(o.querySelector(".button-footer a")))}))})(),(()=>{const e=document.querySelector(".popup-repair-types"),t=document.querySelector("body");let r=!1;t.addEventListener("click",(t=>{t.target.closest(".link-price")&&(e.style.visibility="visible",r=!r,console.log(r)),r&&(console.dir(t.target),(t.target.closest(".close")||"popup popup-repair-types"===t.target.className)&&(e.style.visibility="hidden",r=!r,console.log(r)))}))})(),document.querySelectorAll("#feedback-input1, #feedback-input2, #feedback-input3, #feedback-input4, #feedback-input5, #feedback-input6").forEach((e=>{e.addEventListener("input",(t=>{const r=e.value.replace(/\D+/g,"");let o="";for(let e=0;e<r.length&&e<11;e++){switch(e){case 0:o+="7"===(l=r[e])?"+7 (":"9"===l?"+7 (9":"+7 (";continue;case 4:o+=") ";break;case 7:case 9:o+="-"}o+=r[e]}var l;e.value=o}))})),(()=>{const e=document.querySelector(".popup-privacy"),t=document.querySelector("body");let r=!1;t.addEventListener("click",(t=>{t.target.closest("span.link-privacy")&&(e.style.visibility="visible",r=!r,console.log(r)),r&&(console.dir(t.target),(t.target.closest(".close")||"popup popup-privacy"===t.target.className)&&(e.style.visibility="hidden",r=!r,console.log(r)))}))})(),(()=>{document.querySelector(".types-repair1"),document.querySelector(".types-repair2"),document.querySelector(".types-repair3"),document.querySelector(".types-repair4"),document.querySelector(".types-repair5");let e=document.querySelector(".types-repair1"),t=document.getElementById("repair-types-arrow_right"),r=document.getElementById("repair-types-arrow_left"),o=e.querySelectorAll(".repair-types-slider__slide"),l=document.querySelector(".slider-counter-content__current"),c=1,s=0,i={curSlide1:0,curSlide2:0,curSlide3:0,curSlide4:0,curSlide5:0};const n=c=>{e=document.querySelector(`.types-repair${c}`),l=document.querySelector(".slider-counter-content__current");const n=document.querySelector(".slider-counter-content__total");o=e.querySelectorAll(".repair-types-slider__slide"),l.innerHTML=i[`curSlide${c}`]+1,s=o.length-1,n.innerHTML=o.length,t=document.getElementById("repair-types-arrow_right"),r=document.getElementById("repair-types-arrow_left")};(()=>{const t=document.querySelector(".repair-types-slider");let r=t.querySelectorAll(".repair-types-slider>div");const o=document.querySelectorAll(".repair-types-nav__item");let l="";r.forEach(((e,t)=>{e.getAttribute("id"+t+1)})),o.forEach((s=>{s.addEventListener("click",(i=>{o.forEach((e=>{e.classList.remove("active")})),i.target.classList.add("active"),s.classList.contains("active")&&(l=i.target.getAttribute("id")),c=l.toString().slice(-1),n(c),t.prepend(e),r=t.querySelectorAll(".repair-types-slider>div"),console.log(r)}))}))})(),n(c),r.addEventListener("click",(t=>{var r;i[`curSlide${r=c}`]>0&&(e.append(o[0]),i[`curSlide${r}`]=i[`curSlide${r}`]-1,o=e.querySelectorAll(".repair-types-slider__slide"),l.innerHTML=l.innerHTML-1),console.log(i)})),t.addEventListener("click",(t=>{var r;r=c,console.log(i[`curSlide${r}`]),i[`curSlide${r}`]<s&&(e.prepend(o[i[`curSlide${r}`]+1]),i[`curSlide${r}`]=i[`curSlide${r}`]+1,o=e.querySelectorAll(".repair-types-slider__slide"),l.innerHTML=i[`curSlide${r}`]+1),console.log(i)}))})(),(()=>{const e=document.querySelector("body"),t=document.querySelector(".portfolio-slider"),r=document.querySelector("#portfolio-arrow_left"),o=document.querySelector("#portfolio-arrow_right"),l=document.querySelectorAll(".portfolio-slider__slide"),c=document.querySelector(".popup-dialog-portfolio"),s=e.querySelector(".popup.popup-portfolio"),i=c.querySelector(".popup-portfolio-slider"),n=c.querySelector(".popup-portfolio-text-slider"),a=c.querySelectorAll(".popup-arrow"),p=c.querySelector("#popup-portfolio-counter"),d=c.querySelector(".slider-counter-content__current"),u=c.querySelector(".slider-counter-content__total"),y=document.querySelector(".popup-portfolio>.close");let g=c.querySelectorAll(".popup-portfolio-slider__slide"),m=c.querySelectorAll(".popup-portfolio-text");const S=l[0].offsetWidth;let v=1;d.innerText=v;let f=g.length;u.innerText=f,r.addEventListener("click",(e=>{t.style.scrollBehavior="smooth",t.scrollLeft-=S})),o.addEventListener("click",(e=>{t.style.scrollBehavior="smooth",t.scrollLeft+=S}));const h=(e,t)=>{e.forEach(((e,r)=>{e.setAttribute("id",`${t}-${r+1}`)}))},q=(e,t)=>{let r=e.querySelector(`#${t}-${v-1}`);e.prepend(r)},b=(e,t)=>{let r=e.querySelector(`#${t}-${v+1}`);e.prepend(r)};t.addEventListener("scroll",(()=>{0===t.scrollLeft?r.style.display="none":r.style.display="flex",t.scrollLeft+t.clientWidth===t.scrollWidth?o.style.display="none":o.style.display="flex"})),l.forEach((e=>{e.addEventListener("click",(e=>{c.style.visibility="visible",s.style.visibility="visible",m.forEach(((e,t)=>{e.style.display="block"})),a.forEach((e=>{e.style.top="5%"})),p.style.marginLeft="0",p.style.bottom="90.4%",y.style.visibility="visible"})),h(g,"popup-slides"),h(m,"popup-slides-text")})),e.addEventListener("click",(e=>{(e.target.closest(".close")||"popup popup-portfolio"===e.target.className)&&(c.style.visibility="hidden",s.style.visibility="hidden",y.style.visibility="hidden")})),a.forEach((e=>{e.addEventListener("click",(e=>{e.target.closest(".popup-arrow_left")&&v>1&&(q(i,"popup-slides"),q(n,"popup-slides-text"),v--,d.innerText=v),e.target.closest(".popup-arrow_right")&&v<f&&(b(i,"popup-slides"),b(n,"popup-slides-text"),v++,d.innerText=v)}))}))})(),(()=>{const e=document.querySelector(".popup-transparency"),t=document.querySelector("body"),r=e.querySelectorAll(".popup-transparency-slider__slide"),o=t.querySelectorAll(".transparency-item"),l=e.querySelector(".popup-transparency-slider"),c=e.querySelector(".slider-counter-content__current"),s=e.querySelector(".slider-counter-content__total");let i=!1;const n=(e,t)=>{e.forEach(((e,r)=>{e.setAttribute("id",`${t}-${r+1}`)}))},a=()=>{o.forEach(((e,t)=>{t+1!==d?e.classList.add("hidden"):e.classList.remove("hidden")}))};let p=1,d=1;c.innerText=p;let u=r.length,y=o.length;s.innerText=u,n(r,"popup-transparency-slide"),n(o,"transparency-item"),screen.width<1090&&(a(),t.addEventListener("click",(e=>{e.target.closest("#transparency-arrow_right")&&d<y&&(d++,a()),e.target.closest("#transparency-arrow_left")&&d>1&&(d--,a())}))),t.addEventListener("click",(t=>{t.target.closest(".transparency-item__img")&&(e.style.visibility="visible",i=!i,"transparency-item-1"===t.target.offsetParent.id&&(p=1),"transparency-item-2"===t.target.offsetParent.id&&(p=2),"transparency-item-3"===t.target.offsetParent.id&&(p=3),c.innerText=p,((e,t)=>{let r=e.querySelector(`#popup-transparency-slide-${p}`);e.prepend(r)})(l)),i&&(t.target.closest("#transparency_left")&&p>1&&(((e,t)=>{let r=e.querySelector("#popup-transparency-slide-"+(p-1));e.prepend(r)})(l),p--,c.innerText=p),t.target.closest("#transparency_right")&&p<u&&(((e,t)=>{let r=e.querySelector(`#popup-transparency-slide-${p+1}`);e.prepend(r)})(l),p++),c.innerText=p,(t.target.closest(".close")||"popup popup-transparency"===t.target.className)&&(e.style.visibility="hidden",i=!i))}))})(),(()=>{const e=document.querySelector(".popup-consultation"),t=document.querySelector("body");let r=!1;t.addEventListener("click",(t=>{t.target.closest("button.consultation")&&(e.style.visibility="visible",r=!0),r&&(console.dir(t.target),(t.target.closest(".close")||"popup popup-consultation"===t.target.className)&&(e.style.visibility="hidden",r=!1))}))})(),e("feedback1"),e("feedback2"),e("feedback3"),e("feedback4"),e("feedback5"),e("feedback6")})();