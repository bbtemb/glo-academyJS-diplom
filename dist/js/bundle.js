(()=>{"use strict";const e=e=>{const t=document.getElementById(e),o=t.querySelector(".checkbox__input"),c=document.createElement("div");c.classList.add("error-message"),c.innerHTML="<p>Ознакомьтесь с политикой конфиденциальности</p>";try{if(!t)throw new Error("Форма не найдена");o.addEventListener("change",(()=>{c.classList.add("hide")})),t.addEventListener("submit",(e=>{e.preventDefault(),o.checked?((()=>{const e=new FormData(t),o={};var c;e.forEach(((e,t)=>{o[t]=e})),console.log(o),c=o,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>e.json()))})(),t.reset()):(t.append(c),c.classList.remove("hide"))}))}catch(e){console.log(e.message)}};(()=>{const e=document.querySelector(".header-contacts__phone-number-accord .header-contacts__phone-number"),t=document.querySelector(".header-contacts__messagers"),o=document.querySelector(".header-contacts__arrow");o.addEventListener("click",(()=>{e.classList.toggle("active"),t.classList.toggle("active"),o.classList.toggle("active")}))})(),(()=>{const e=document.querySelector(".popup-menu"),t=document.querySelector(".popup-dialog-menu"),o=document.querySelector(".close-menu"),c=document.querySelector("body");let s=!1;const r=()=>{e.classList.toggle("active"),t.classList.toggle("active"),s=!s},a=e=>{const t=e.getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})};c.addEventListener("click",(e=>{e.target.closest(".menu")&&r(),e.target.closest(".link-price")&&s&&r(),s&&!e.target.closest(".menu")&&(e.target!==o&&e.target.closest(".popup-dialog-menu")||r()),e.target.closest(".popup-menu-nav__item")&&(e.preventDefault(),r(),e.target.closest(".menu-link")?a(e.target):a(e.target.firstElementChild)),e.target.closest(".button-footer")&&(e.preventDefault(),a(c.querySelector(".button-footer a")))}))})(),(()=>{const e=document.querySelector(".popup-repair-types"),t=document.querySelector("body");let o=!1;t.addEventListener("click",(t=>{t.target.closest(".link-price")&&(e.style.visibility="visible",o=!o,console.log(o)),o&&(console.dir(t.target),(t.target.closest(".close")||"popup popup-repair-types"===t.target.className)&&(e.style.visibility="hidden",o=!o,console.log(o)))}))})(),document.querySelectorAll("#feedback-input1, #feedback-input2, #feedback-input3, #feedback-input4, #feedback-input5").forEach((e=>{e.addEventListener("input",(t=>{const o=e.value.replace(/\D+/g,"");let c="";for(let e=0;e<o.length&&e<11;e++){switch(e){case 0:c+="7"===(s=o[e])?"+7 (":"9"===s?"+7 (9":"+7 (";continue;case 4:c+=") ";break;case 7:case 9:c+="-"}c+=o[e]}var s;e.value=c}))})),(()=>{const e=document.querySelector(".popup-privacy"),t=document.querySelector("body");let o=!1;t.addEventListener("click",(t=>{t.target.closest("span.link-privacy")&&(e.style.visibility="visible",o=!o,console.log(o)),o&&(console.dir(t.target),(t.target.closest(".close")||"popup popup-privacy"===t.target.className)&&(e.style.visibility="hidden",o=!o,console.log(o)))}))})(),e("feedback1"),e("feedback2"),e("feedback3"),e("feedback4"),e("feedback5")})();